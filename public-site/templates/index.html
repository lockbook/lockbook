{% extends "base.html" %}
{% block content %}

  <div class="relative mt-14 lg:mt-40">
      <h1 class="max-w-4xl px-3 mx-auto text-3xl/relaxed [word-spacing:-6px] font-bold lg:text-center lg:text-4xl/snug  text-egshell">
          The secure place for
          <p class="relative inline-block">
            <span class="absolute left-0 px-2 py-1 text-xs font-medium tracking-normal uppercase -translate-x-4 -translate-y-1 lg:-translate-y-2 text-abyss-900 -z-10 -rotate-6 text-abyss rounded-2xl bg-sundown">markdown</span> writing</p>
          notes
          <p class="relative inline-block">sketching 
          <span class="absolute right-0 px-2 py-1 text-xs font-medium tracking-normal uppercase -translate-x-1 -translate-y-1 text-abyss-900 -z-10 rotate-6 text-abyss rounded-2xl bg-dusk">svg</span></p>
          ideas and storing files
      </h1>
      <span class="pointer-events-none  w-[100rem] lg:w-[100rem] n h-screen absolute left-0 top-0 lg:inset-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[radial-gradient(at_center,_theme('colors.egshell')_-200%,_transparent_30%)]"></span>
  </div>


  <!-- the id is hardcoded in main.rs. change with caution  -->
   <div class="max-w-[38rem] m-auto mt-40 border  h-[40rem] mb-10 relative">
      <canvas id="editor_demo" class="w-full h-full"></canvas>
      <span class="absolute top-0 left-0 w-full h-full pointer-events-none  bg-[linear-gradient(to_top,_theme('colors.abyss.900')_2%,_transparent_30%)]"></span>
  </div>




  <div class="grid max-w-2xl grid-cols-2 px-3 m-auto my-56 text-xs max-sm:grid-cols-1 max-sm:gap-y-12 text-egshell font-extralight gap-y-10">
      <div class="relative">
          <h2 class="text-lg font-bold">## Community Driven</h2>
          <p class="mt-3 leading-5">Lockbook is in open beta. Join our community, share your feedback, and help achieve our vision of open-source privacy without compromises.</p>
          <span class="pointer-events-none  w-[45rem]  h-[45rem] left-0 top-0 absolute transform  -translate-x-[45%] -translate-y-[48%] bg-[radial-gradient(at_center,_theme('colors.egshell')_-200%,_transparent_30%)]"></span>
      </div>
      <div class="relative lg:col-start-2 lg:row-start-2">
          <h2 class="text-lg font-bold" >## Private & Transparent</h2>
          <p class="mt-3 leading-5">Lockbook is 100% open source. Be the customer, not the product. We sell a note-taking app, not your data.</p>
          <span class="pointer-events-none  w-[55rem]  h-[55rem] left-0 top-0 absolute transform  -translate-x-[45%] -translate-y-[48%] bg-[radial-gradient(at_center,_theme('colors.egshell')_-300%,_transparent_30%)]"></span>
      </div>
      <div class="relative lg:col-start-1 lg:row-start-3">
          <h2 class="text-lg font-bold">## Developer-Friendly</h2>
          <p class="mt-3 leading-5">our CLI will fit right into your favorite chain of piped-together Unix commands. Search your notes with `fzf` edit them with `vim` and schedule backups with `cron`.</p>
          <span class="pointer-events-none  w-[65rem]  h-[65rem] left-0 top-0 absolute transform  -translate-x-[45%]  -translate-y-[48%] bg-[radial-gradient(at_center,_theme('colors.egshell')_-400%,_transparent_30%)]"></span>
      </div>
  </div>
  
  <div class="w-full  m-auto mt-40 border  h-[40rem] relative">
      <canvas id="canvas_demo" class="w-full h-full"></canvas>
  </div>

  <div class="bg-surfline">
      <h2 class="pt-24 text-2xl font-bold text-center">Protect your data across your favorite devices</h2>
      <h3 class="mb-20 text-center">handcrafted clients for each platform. no electron bs</h3>

      <div class="mx-auto w-1/2 h-[34rem] relative">
        <div id="screenshots" class="flex h-full">
            <img src="ios-screenshot.png" alt="screenshot of the ui on an iOS device" class="absolute object-contain object-bottom w-full h-full" data-platform="ios" > 
            <img src="macos-screenshot.png" alt="screenshot of the ui on an macos device" class="absolute object-contain object-bottom w-full h-full" data-platform="macos" > 
        </div>
        
        <div class="absolute top-0 left-0 flex flex-col items-start justify-center -translate-x-full translate-y-full" id="toggle-screenshots">
            <p class="mb-2 uppercase opacity-30">toggle</p>
            <button class="pt-1 pl-4 border-l-8 font-extralight border-abyss-400 border-opacity-30" data-platform="ios">iOS</button>
            <button class="pt-1 pl-4 border-l-8 font-extralight border-abyss-400 border-opacity-30" data-platform="macos">macOS</button>
            <button class="pt-1 pl-4 border-l-8 font-extralight border-abyss-400 border-opacity-30" data-platform="windows">windows</button>
            <button class="pt-1 pl-4 border-l-8 border-abyss-400" data-platform="linux">linux</button>
            <button class="pt-1 pl-4 border-l-8 font-extralight border-abyss-400 border-opacity-30 "data-platform="android">android</button>
        </div>
      </div>

      
          <!-- <div class="w-full h-[34rem]  relative" id="screenshots"> -->
              <!-- <img src="ios-screenshot.png" alt="screenshot of the ui on an iOS device " class="absolute object-contain w-full h-full" data-platform="ios" >  -->
              <!-- <img src="macos-screenshot`.png" alt="screenshot of the ui on an iOS device " class="absolute object-contain w-full h-full" data-platform="macos" >  -->
              <!-- <img src="screenshot.png" alt="screenshot of the ui on an iOS device " class="absolute object-contain w-full h-full hue-rotate-30" data-platform="windows"> -->
              <!-- <img src="screenshot.png" alt="screenshot of the ui on an iOS device " class="absolute object-contain w-full h-full -hue-rotate-30" data-platform="linux">  -->
              <!-- <img src="screenshot.png" alt="screenshot of the ui on an iOS device " class="absolute object-contain w-full h-full -hue-rotate-90" data-platform="android">  -->
            <!-- </div> -->
  </div>


  <div class="pb-32 bg-abyss-400 text-egshell">
      <h2 class="pt-24 text-2xl font-bold text-center">Pricing</h2>
      <h3 class="mb-20 text-center">Be the customer, not the product. We sell a note-taking app, not your data. </h3>
      
      <div class="flex justify-center">
          <div class="bg-abyss-900 p-11">
              <h4 class="mb-12 text-xl font-bold " >Free</h4>
              <ul class="mb-20 text-xs list-disc list-inside ">
                  <li class="mb-4">1MB storage capacity </li>
                  <li class="mb-4">sharing and collaboration</li>
                  <li class="mb-4">markdown support</li>
                  <li class="mb-4">drawing support</li>
                  <li class="mb-4">offline mode</li>
              </ul>
              <a href="#" class="text-sm underline text-surfline font-xs">Download for free</a>
          </div>
  
          <div class="w-full max-w-xl ml-8 bg-surfline text-abyss-900 p-11">
              <div class="flex flex-row justify-between mb-8" >
                  <h4  class="text-xl font-bold" >Premium</h4>
                  <div>
                      <h4 class="text-xl font-bold" >$2.99</h4>
                      <p class="text-xs text-right">monthly</p>
                  </div>
              </div>
              <ul class="mb-20 text-xs list-disc list-inside ">
                  <li class="mb-4 ">30GB storage capacity </li>
                  <li class="mb-4 opacity-60">sharing and collaboration</li>
                  <li class="mb-4 opacity-60">markdown support</li>
                  <li class="mb-4 opacity-60">drawing support</li>
                  <li class="mb-4 opacity-60">offline mode</li>
              </ul>
              <a href="#" class="px-6 py-2 text-sm bg-abyss-900 text-surfline" >Purchase in app</a>
          </div>
      </div>

  </div>
  
  <div class="relative py-20 pl-24 text-egshell">
      <h1 class="text-4xl font-bold mb-28 ">Join the community</h1>
      <div class="flex items-center ">
          <button class="px-6 py-2 text-sm font-bold text-abyss-900 bg-surfline">Download for macOS</button>
          <p class="ml-8 text-xs opacity-70 font-extralight">also available for 
              <a href="#" class="underline text-surfline ">iOS</a>,
              <a href="#" class="underline text-surfline ">android</a>
              <a href="#" class="underline text-surfline ">linux</a>, and
              <a href="#" class="underline text-surfline ">windows</a></p>
      </div>
      <div class="absolute top-0 right-0 w-1/4 h-full overflow-hidden min-w-80">
          <img src="./banner-bg.svg" alt="pattern of lockbook's logo" class="">
      </div>
  </div>

  
  <!--Register Service Worker. this will cache the wasm / js scripts for offline use (for PWA functionality). -->
  <!-- Force refresh (Ctrl + F5) to load the latest files instead of cached files  -->
  <script>
      // We disable caching during development so that we always view the latest version.
      if ('serviceWorker' in navigator && window.location.hash !== "#dev") {
          window.addEventListener('load', function () {
              navigator.serviceWorker.register('sw.js');
          });
      }

      let unselectedStyles = "pt-1 pl-4 border-l-8 font-extralight border-abyss-400 border-opacity-30";
      let selectedStyles = "pt-1 pl-4 border-l-8 border-abyss-400";

      let screenshotToggleBtns = [...document.querySelector("#toggle-screenshots").children].filter(el => el.nodeName === "BUTTON");
      
      let screenshotImgs = [...document.querySelector("#screenshots").children]

      screenshotToggleBtns.forEach(clickedBtn => clickedBtn.addEventListener('click', e => {
        screenshotToggleBtns.forEach(nonClickedBtn => nonClickedBtn.className = unselectedStyles)
        clickedBtn.className = selectedStyles;
        
        let clickedPlatform = clickedBtn.dataset.platform
        
        screenshotImgs.forEach(img => img.style.display = "none")
        screenshotImgs.find(img => img.dataset.platform === clickedPlatform).style.display = "block"
        
    }))
  </script>

{% endblock content %}